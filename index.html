<!DOCTYPE html><html><head><title>canvas-3d</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"><meta name="description" content="An API emulating a subset of canvas 2d in WebGL."></meta><script defer="null" src="js/@index.js"></script><link rel="stylesheet" type="text/css" href="css/comparator.css"><link rel="stylesheet" type="text/css" href="css/wdg.button.css"><link rel="stylesheet" type="text/css" href="css/tfw.touchable.css"><link rel="stylesheet" type="text/css" href="css/dom.fx.css"><link rel="stylesheet" type="text/css" href="css/dom.css"><link rel="stylesheet" type="text/css" href="css/wdg.icon.css"><link rel="stylesheet" type="text/css" href="css/font.roboto.css"><link rel="stylesheet" type="text/css" href="css/wdg.modal.css"><link rel="stylesheet" type="text/css" href="css/wdg.flex.css"><link rel="stylesheet" type="text/css" href="css/main.css"><link rel="stylesheet" type="text/css" href="css/font.josefin.css"><script defer="null" src="js/$.js"></script><script defer="null" src="js/comparator.js"></script><script defer="null" src="js/canvas-3d.js"></script><script defer="null" src="js/canvas-3d.program.js"></script><script defer="null" src="js/canvas-3d.sprite.js"></script><script defer="null" src="js/canvas-3d.mesh.js"></script><script defer="null" src="js/wdg.button.js"></script><script defer="null" src="js/tfw.touchable.js"></script><script defer="null" src="js/tfw.listeners.js"></script><script defer="null" src="js/dom.fx.js"></script><script defer="null" src="js/tfw.data-binding.js"></script><script defer="null" src="js/tfw.css.js"></script><script defer="null" src="js/dom.js"></script><script defer="null" src="js/tfw.pointer-events.js"></script><script defer="null" src="js/polyfill.classList.js"></script><script defer="null" src="js/polyfill.string.js"></script><script defer="null" src="js/polyfill.promise.js"></script><script defer="null" src="js/wdg.icon.js"></script><script defer="null" src="js/font.roboto.js"></script><script defer="null" src="js/wdg.modal.js"></script><script defer="null" src="js/wdg.flex.js"></script><script defer="null" src="js/x-widget.js"></script><script defer="null" src="js/main.js"></script><script defer="null" src="js/font.josefin.js"></script><link rel="stylesheet" type="text/css" href="css/@index.css"></head><body>
    <p>You can see a real life migration of a 2D game with the Canvas3D API:</p>
<ul>
<li><a href="css/main/windwaker/index.html">Using CanvasRenderingContext2D</a>.</li>
<li><a href="css/main/windwaker/index.html?Canvas3D">Using Canvas3D</a>.</li>
</ul>
<h1 id="this-page-is-a-test-case-of-what-canvas3d-emulates">This page is a test case of what Canvas3D emulates</h1>
<p>In all the samples below, the canvas on the left use CanvasRenderingContext2D<strong> and the one on the right uses </strong>Canvas3D__. You can perform speed tests for every example.</p>
<h2 id="drawimage-">drawImage()</h2>
<p>The performance increases when you have a lot of images to display.
But you have to be aware of slight differences in the usage due to internal optimization.
For instance, compare both results:<br>        <div class="undefined"><pre class="custom highlight js"><span class="keyword">var</span> <span class="identifier">W</span> <span class="operator">=</span> <span class="identifier">ctx</span>.<span class="identifier">canvas</span>.<span class="identifier">width</span><span class="symbol">;</span>
  <span class="keyword">var</span> <span class="identifier">H</span> <span class="operator">=</span> <span class="identifier">ctx</span>.<span class="identifier">canvas</span>.<span class="identifier">height</span><span class="symbol">;</span>
  <span class="keyword">var</span> <span class="identifier">sprite1</span> <span class="operator">=</span> <span class="identifier">images</span>.<span class="identifier">sprite1</span><span class="symbol">;</span>
  <span class="keyword">var</span> <span class="identifier">sprite2</span> <span class="operator">=</span> <span class="identifier">images</span>.<span class="identifier">sprite2</span><span class="symbol">;</span>

  <span class="identifier">ctx</span>.<span class="function">drawImage</span><span class="symbol">(</span> <span class="identifier">sprite1</span><span class="symbol">,</span> <span class="number">0</span><span class="symbol">,</span> <span class="number">0</span> <span class="symbol">);</span>
  <span class="identifier">ctx</span>.<span class="function">drawImage</span><span class="symbol">(</span> <span class="identifier">sprite2</span><span class="symbol">,</span> <span class="identifier">W</span> <span class="operator">-</span> <span class="number">160</span><span class="symbol">,</span> <span class="number">0</span> <span class="symbol">);</span>
  <span class="identifier">ctx</span>.<span class="identifier">globalAlpha</span> <span class="operator">=</span> <span class="number">0.5</span><span class="symbol">;</span>
  <span class="identifier">ctx</span>.<span class="function">drawImage</span><span class="symbol">(</span> <span class="identifier">sprite1</span><span class="symbol">,</span> <span class="number">100</span><span class="symbol">,</span> <span class="number">0</span> <span class="symbol">);</span> </pre><div id="comparator0" class="" style="display:none"></div></div>
As you can see, painting order is not respected.
This is because the optimisation consist in buffering sprites and writing them all at once at flushing time.
And to stick with <code>drawImage()</code> usage, each image has its own sprites buffer.
In this example, we draw 3 sprites from 2 different images.
That&#39;s why the API creates two buffers and it flushes them one after the other.</p>
<p>You may think that you can use depth test to prevent that to occur, but it&#39;s a bad idea with transparency.     </p>
<pre><code>    <div class="undefined"><pre class="custom highlight js"><span class="keyword">var</span> <span class="identifier">W</span> <span class="operator">=</span> <span class="identifier">ctx</span>.<span class="identifier">canvas</span>.<span class="identifier">width</span><span class="symbol">;</span>
  <span class="keyword">var</span> <span class="identifier">H</span> <span class="operator">=</span> <span class="identifier">ctx</span>.<span class="identifier">canvas</span>.<span class="identifier">height</span><span class="symbol">;</span>
  <span class="keyword">var</span> <span class="identifier">sprite1</span> <span class="operator">=</span> <span class="identifier">images</span>.<span class="identifier">sprite1</span><span class="symbol">;</span>
  <span class="keyword">var</span> <span class="identifier">sprite2</span> <span class="operator">=</span> <span class="identifier">images</span>.<span class="identifier">sprite2</span><span class="symbol">;</span>

  <span class="identifier">ctx</span>.<span class="identifier">depthTest</span> <span class="operator">=</span> <span class="identifier">true</span><span class="symbol">;</span>
  <span class="identifier">ctx</span>.<span class="identifier">z</span> <span class="operator">=</span> <span class="number">0</span><span class="symbol">;</span>
  <span class="identifier">ctx</span>.<span class="function">drawImage</span><span class="symbol">(</span> <span class="identifier">sprite1</span><span class="symbol">,</span> <span class="number">0</span><span class="symbol">,</span> <span class="number">0</span> <span class="symbol">);</span>
  <span class="identifier">ctx</span>.<span class="function">drawImage</span><span class="symbol">(</span> <span class="identifier">sprite2</span><span class="symbol">,</span> <span class="identifier">W</span> <span class="operator">-</span> <span class="number">160</span><span class="symbol">,</span> <span class="number">0</span> <span class="symbol">);</span>
  <span class="identifier">ctx</span>.<span class="identifier">globalAlpha</span> <span class="operator">=</span> <span class="number">0.5</span><span class="symbol">;</span>
  <span class="identifier">ctx</span>.<span class="identifier">z</span> <span class="operator">=</span> <span class="number">-0.5</span><span class="symbol">;</span>
  <span class="identifier">ctx</span>.<span class="function">drawImage</span><span class="symbol">(</span> <span class="identifier">sprite1</span><span class="symbol">,</span> <span class="number">100</span><span class="symbol">,</span> <span class="number">0</span> <span class="symbol">);</span> </pre><div id="comparator1" class="" style="display:none"></div></div>
</code></pre><p>The only way to be sure that the painting order is respected is to use an unique image.
That means you have to create an atlas like this one :</p>
<pre><code>    <img src="css/main/atlas.png" style="border: 1px solid #000">
</code></pre><p>Not only the atlas will respect the painting order, but it boosts performances because the API have only one buffer to flush.        </p>
<pre><code>    <div class="undefined"><pre class="custom highlight js"><span class="keyword">var</span> <span class="identifier">W</span> <span class="operator">=</span> <span class="identifier">ctx</span>.<span class="identifier">canvas</span>.<span class="identifier">width</span><span class="symbol">;</span>
  <span class="keyword">var</span> <span class="identifier">H</span> <span class="operator">=</span> <span class="identifier">ctx</span>.<span class="identifier">canvas</span>.<span class="identifier">height</span><span class="symbol">;</span>
  <span class="keyword">var</span> <span class="identifier">atlas</span> <span class="operator">=</span> <span class="identifier">images</span>.<span class="identifier">atlas</span><span class="symbol">;</span>

  <span class="identifier">ctx</span>.<span class="function">drawImage</span><span class="symbol">(</span> <span class="identifier">atlas</span><span class="symbol">,</span> <span class="number">0</span><span class="symbol">,</span> <span class="number">0</span><span class="symbol">,</span> <span class="number">200</span><span class="symbol">,</span> <span class="number">200</span><span class="symbol">,</span> <span class="identifier">W</span> <span class="operator">-</span> <span class="number">200</span><span class="symbol">,</span> <span class="number">0</span><span class="symbol">,</span> <span class="number">200</span><span class="symbol">,</span> <span class="number">200</span> <span class="symbol">);</span>
  <span class="identifier">ctx</span>.<span class="function">drawImage</span><span class="symbol">(</span> <span class="identifier">atlas</span><span class="symbol">,</span> <span class="number">200</span><span class="symbol">,</span> <span class="number">0</span><span class="symbol">,</span> <span class="number">200</span><span class="symbol">,</span> <span class="number">200</span><span class="symbol">,</span> <span class="number">0</span><span class="symbol">,</span> <span class="number">0</span><span class="symbol">,</span> <span class="number">200</span><span class="symbol">,</span> <span class="number">200</span> <span class="symbol">);</span>
  <span class="identifier">ctx</span>.<span class="identifier">globalAlpha</span> <span class="operator">=</span> <span class="number">0.75</span><span class="symbol">;</span>
  <span class="identifier">ctx</span>.<span class="function">drawImage</span><span class="symbol">(</span> <span class="identifier">atlas</span><span class="symbol">,</span> <span class="number">0</span><span class="symbol">,</span> <span class="number">0</span><span class="symbol">,</span> <span class="number">200</span><span class="symbol">,</span> <span class="number">200</span><span class="symbol">,</span> <span class="number">100</span><span class="symbol">,</span> <span class="number">25</span><span class="symbol">,</span> <span class="number">100</span><span class="symbol">,</span> <span class="number">100</span> <span class="symbol">);</span> </pre><div id="comparator2" class="" style="display:none"></div></div>
</code></pre><p><strong>Warning!</strong> Any time you use a transformation, the API will flush all the buffers.
So be careful, because this drops down the performance a lot.</p>
<pre><code>    <div class="undefined"><pre class="custom highlight js"><span class="keyword">var</span> <span class="identifier">W</span> <span class="operator">=</span> <span class="identifier">ctx</span>.<span class="identifier">canvas</span>.<span class="identifier">width</span><span class="symbol">;</span>
  <span class="keyword">var</span> <span class="identifier">H</span> <span class="operator">=</span> <span class="identifier">ctx</span>.<span class="identifier">canvas</span>.<span class="identifier">height</span><span class="symbol">;</span>
  <span class="keyword">var</span> <span class="identifier">sprite1</span> <span class="operator">=</span> <span class="identifier">images</span>.<span class="identifier">sprite1</span><span class="symbol">;</span>

  <span class="identifier">ctx</span>.<span class="function">drawImage</span><span class="symbol">(</span> <span class="identifier">images</span>.<span class="identifier">sprite1</span><span class="symbol">,</span> <span class="number">0</span><span class="symbol">,</span> <span class="number">0</span> <span class="symbol">);</span>
  <span class="identifier">ctx</span>.<span class="function">drawImage</span><span class="symbol">(</span> <span class="identifier">images</span>.<span class="identifier">sprite2</span><span class="symbol">,</span> <span class="identifier">W</span> <span class="operator">-</span> <span class="number">160</span><span class="symbol">,</span> <span class="number">0</span> <span class="symbol">);</span>
  <span class="identifier">ctx</span>.<span class="function">save</span><span class="symbol">();</span>
  <span class="identifier">ctx</span>.<span class="identifier">globalAlpha</span> <span class="operator">=</span> <span class="number">0.7</span><span class="symbol">;</span>
  <span class="identifier">ctx</span>.<span class="function">translate</span><span class="symbol">(</span> <span class="number">0.5</span> <span class="operator">*</span> <span class="identifier">W</span><span class="symbol">,</span> <span class="number">0.5</span> <span class="operator">*</span> <span class="identifier">H</span> <span class="symbol">);</span>
  <span class="identifier">ctx</span>.<span class="function">rotate</span><span class="symbol">(</span> <span class="keyword2">Math</span>.<span class="identifier">PI</span> <span class="operator">/</span> <span class="number">3</span> <span class="symbol">);</span>
  <span class="identifier">ctx</span>.<span class="function">scale</span><span class="symbol">(</span> <span class="number">0.5</span><span class="symbol">,</span> <span class="number">0.5</span> <span class="symbol">);</span>
  <span class="identifier">ctx</span>.<span class="function">translate</span><span class="symbol">(</span> <span class="number">-0.5</span> <span class="operator">*</span> <span class="identifier">sprite1</span>.<span class="identifier">width</span><span class="symbol">,</span> <span class="number">-0.5</span> <span class="operator">*</span> <span class="identifier">sprite1</span>.<span class="identifier">height</span> <span class="symbol">);</span>
  <span class="identifier">ctx</span>.<span class="function">drawImage</span><span class="symbol">(</span> <span class="identifier">images</span>.<span class="identifier">sprite1</span><span class="symbol">,</span> <span class="number">0</span><span class="symbol">,</span> <span class="number">0</span> <span class="symbol">);</span>
  <span class="identifier">ctx</span>.<span class="function">restore</span><span class="symbol">();</span> </pre><div id="comparator3" class="" style="display:none"></div></div>
</code></pre><h2 id="fillrect-">fillRect()</h2>
<p>Filling rectangles is made with the buffer/flush optimization.
That means it is very fast until you want to use transformations.</p>
<pre><code>    <div class="undefined"><pre class="custom highlight js"><span class="keyword">var</span> <span class="identifier">x</span><span class="symbol">,</span> <span class="identifier">y</span><span class="symbol">;</span>
<span class="keyword">var</span> <span class="identifier">w</span> <span class="operator">=</span> <span class="identifier">ctx</span>.<span class="identifier">canvas</span>.<span class="identifier">width</span><span class="symbol">;</span>
<span class="keyword">var</span> <span class="identifier">h</span> <span class="operator">=</span> <span class="identifier">ctx</span>.<span class="identifier">canvas</span>.<span class="identifier">height</span><span class="symbol">;</span>
<span class="keyword">for</span><span class="symbol">(</span> <span class="identifier">y</span> <span class="operator">=</span> <span class="number">0</span> <span class="symbol">;</span> <span class="identifier">y</span> <span class="operator">&lt;</span> <span class="identifier">h</span> <span class="symbol">;</span> <span class="identifier">y</span> <span class="operator">+</span><span class="operator">=</span> <span class="number">25</span> <span class="symbol">)</span> <span class="symbol">{</span>
  <span class="keyword">for</span><span class="symbol">(</span> <span class="identifier">x</span> <span class="operator">=</span> <span class="number">0</span> <span class="symbol">;</span> <span class="identifier">x</span> <span class="operator">&lt;</span> <span class="identifier">w</span> <span class="symbol">;</span> <span class="identifier">x</span> <span class="operator">+</span><span class="operator">=</span> <span class="number">25</span> <span class="symbol">)</span> <span class="symbol">{</span>
    <span class="identifier">ctx</span>.<span class="function">fillRect</span><span class="symbol">(</span> <span class="identifier">x</span><span class="symbol">,</span> <span class="identifier">y</span><span class="symbol">,</span> <span class="number">20</span><span class="symbol">,</span> <span class="number">20</span> <span class="symbol">);</span>
  <span class="symbol">}</span>
<span class="symbol">}</span> </pre><div id="comparator4" class="" style="display:none"></div></div>
</code></pre><p>Using styles can slow down a little, especially if you use the <code>hls()</code>.
The fastest syntax are <code>#RGB</code> and <code>#RRGGBB</code>.<br>        <div class="undefined"><pre class="custom highlight js"><span class="identifier">ctx</span>.<span class="identifier">fillStyle</span> <span class="operator">=</span> <span class="string">"#f00"</span><span class="symbol">;</span>
<span class="identifier">ctx</span>.<span class="function">fillRect</span><span class="symbol">(</span> <span class="number">10</span><span class="symbol">,</span> <span class="number">10</span><span class="symbol">,</span> <span class="number">260</span><span class="symbol">,</span> <span class="number">120</span> <span class="symbol">);</span>
<span class="identifier">ctx</span>.<span class="identifier">fillStyle</span> <span class="operator">=</span> <span class="string">"#28af47"</span><span class="symbol">;</span>
<span class="identifier">ctx</span>.<span class="function">fillRect</span><span class="symbol">(</span> <span class="number">20</span><span class="symbol">,</span> <span class="number">20</span><span class="symbol">,</span> <span class="number">260</span><span class="symbol">,</span> <span class="number">120</span> <span class="symbol">);</span>
<span class="identifier">ctx</span>.<span class="identifier">fillStyle</span> <span class="operator">=</span> <span class="string">"hsl(17,70%,50%)"</span><span class="symbol">;</span>
<span class="identifier">ctx</span>.<span class="function">fillRect</span><span class="symbol">(</span> <span class="number">30</span><span class="symbol">,</span> <span class="number">30</span><span class="symbol">,</span> <span class="number">260</span><span class="symbol">,</span> <span class="number">120</span> <span class="symbol">);</span>
<span class="identifier">ctx</span>.<span class="identifier">fillStyle</span> <span class="operator">=</span> <span class="string">"#7733fd"</span><span class="symbol">;</span>
<span class="identifier">ctx</span>.<span class="function">fillRect</span><span class="symbol">(</span> <span class="number">40</span><span class="symbol">,</span> <span class="number">40</span><span class="symbol">,</span> <span class="number">260</span><span class="symbol">,</span> <span class="number">120</span> <span class="symbol">);</span>
<span class="identifier">ctx</span>.<span class="identifier">fillStyle</span> <span class="operator">=</span> <span class="string">"#F39C15"</span><span class="symbol">;</span>
<span class="identifier">ctx</span>.<span class="function">fillRect</span><span class="symbol">(</span> <span class="number">50</span><span class="symbol">,</span> <span class="number">50</span><span class="symbol">,</span> <span class="number">260</span><span class="symbol">,</span> <span class="number">120</span> <span class="symbol">);</span> </pre><div id="comparator5" class="" style="display:none"></div></div>
        <div class="undefined"><pre class="custom highlight js"><span class="identifier">ctx</span>.<span class="identifier">globalAlpha</span> <span class="operator">=</span> <span class="number">0.3</span><span class="symbol">;</span>
<span class="identifier">ctx</span>.<span class="identifier">fillStyle</span> <span class="operator">=</span> <span class="string">"#f00"</span><span class="symbol">;</span>
<span class="identifier">ctx</span>.<span class="function">fillRect</span><span class="symbol">(</span> <span class="number">10</span><span class="symbol">,</span> <span class="number">10</span><span class="symbol">,</span> <span class="number">260</span><span class="symbol">,</span> <span class="number">120</span> <span class="symbol">);</span>
<span class="identifier">ctx</span>.<span class="identifier">fillStyle</span> <span class="operator">=</span> <span class="string">"#0f0"</span><span class="symbol">;</span>
<span class="identifier">ctx</span>.<span class="function">fillRect</span><span class="symbol">(</span> <span class="number">20</span><span class="symbol">,</span> <span class="number">25</span><span class="symbol">,</span> <span class="number">260</span><span class="symbol">,</span> <span class="number">120</span> <span class="symbol">);</span>
<span class="identifier">ctx</span>.<span class="identifier">fillStyle</span> <span class="operator">=</span> <span class="string">"#00f"</span><span class="symbol">;</span>
<span class="identifier">ctx</span>.<span class="function">fillRect</span><span class="symbol">(</span> <span class="number">30</span><span class="symbol">,</span> <span class="number">40</span><span class="symbol">,</span> <span class="number">260</span><span class="symbol">,</span> <span class="number">120</span> <span class="symbol">);</span>
<span class="identifier">ctx</span>.<span class="identifier">fillStyle</span> <span class="operator">=</span> <span class="string">"#73d"</span><span class="symbol">;</span>
<span class="identifier">ctx</span>.<span class="function">fillRect</span><span class="symbol">(</span> <span class="number">40</span><span class="symbol">,</span> <span class="number">55</span><span class="symbol">,</span> <span class="number">260</span><span class="symbol">,</span> <span class="number">120</span> <span class="symbol">);</span> </pre><div id="comparator6" class="" style="display:none"></div></div></p>
<h2 id="transformations">Transformations</h2>
<pre><code>    <div class="undefined"><pre class="custom highlight js"><span class="identifier">ctx</span>.<span class="identifier">fillStyle</span> <span class="operator">=</span> <span class="string">"#0f4"</span><span class="symbol">;</span>
<span class="keyword">for</span><span class="symbol">(</span> <span class="keyword">var</span> <span class="identifier">a</span><span class="operator">=</span><span class="number">0</span> <span class="symbol">;</span> <span class="identifier">a</span> <span class="operator">&lt;</span> <span class="number">25</span> <span class="symbol">;</span> <span class="identifier">a</span><span class="operator">+</span><span class="operator">+</span> <span class="symbol">)</span> <span class="symbol">{</span>
  <span class="identifier">ctx</span>.<span class="function">save</span><span class="symbol">();</span>
  <span class="identifier">ctx</span>.<span class="identifier">fillStyle</span> <span class="operator">=</span> <span class="string">"hsl("</span> <span class="operator">+</span> <span class="number">14.4</span> <span class="operator">*</span> <span class="identifier">a</span> <span class="operator">+</span> <span class="string">" 100% 50%)"</span><span class="symbol">;</span>
  <span class="identifier">ctx</span>.<span class="function">translate</span><span class="symbol">(</span> <span class="identifier">ctx</span>.<span class="identifier">canvas</span>.<span class="identifier">width</span> <span class="operator">*</span> <span class="number">0.5</span><span class="symbol">,</span> <span class="identifier">ctx</span>.<span class="identifier">canvas</span>.<span class="identifier">height</span> <span class="operator">*</span> <span class="number">0.5</span> <span class="symbol">);</span>
  <span class="identifier">ctx</span>.<span class="function">rotate</span><span class="symbol">(</span> <span class="identifier">a</span> <span class="operator">*</span> <span class="keyword2">Math</span>.<span class="identifier">PI</span> <span class="operator">*</span> <span class="number">0.04</span> <span class="symbol">);</span>
  <span class="identifier">ctx</span>.<span class="function">translate</span><span class="symbol">(</span> <span class="number">-100</span><span class="symbol">,</span> <span class="number">-5</span> <span class="symbol">);</span>
  <span class="identifier">ctx</span>.<span class="function">fillRect</span><span class="symbol">(</span> <span class="number">0</span><span class="symbol">,</span> <span class="number">0</span><span class="symbol">,</span> <span class="number">200</span><span class="symbol">,</span> <span class="number">10</span> <span class="symbol">);</span>
  <span class="identifier">ctx</span>.<span class="function">restore</span><span class="symbol">();</span>
<span class="symbol">}</span>
<span class="identifier">ctx</span>.<span class="function">fillRect</span><span class="symbol">(</span> <span class="number">0</span><span class="symbol">,</span> <span class="number">0</span><span class="symbol">,</span> <span class="number">50</span><span class="symbol">,</span> <span class="number">50</span> <span class="symbol">);</span> </pre><div id="comparator7" class="" style="display:none"></div></div>
</code></pre><p>As usual, transformations are slow. You can use this code to get speed.<br>        <div class="undefined"><pre class="custom highlight js"><span class="keyword">var</span> <span class="identifier">colors</span> <span class="operator">=</span> <span class="symbol">[</span>
  <span class="string">'#0F0'</span><span class="symbol">,</span> <span class="string">'#1F0'</span><span class="symbol">,</span> <span class="string">'#2F0'</span><span class="symbol">,</span> <span class="string">'#3F0'</span><span class="symbol">,</span> <span class="string">'#4F0'</span><span class="symbol">,</span> <span class="string">'#5F0'</span><span class="symbol">,</span> <span class="string">'#6F0'</span><span class="symbol">,</span> <span class="string">'#7F0'</span><span class="symbol">,</span>
  <span class="string">'#8F0'</span><span class="symbol">,</span> <span class="string">'#9F0'</span><span class="symbol">,</span> <span class="string">'#AF0'</span><span class="symbol">,</span> <span class="string">'#BF0'</span><span class="symbol">,</span> <span class="string">'#CF0'</span><span class="symbol">,</span> <span class="string">'#DF0'</span><span class="symbol">,</span> <span class="string">'#EF0'</span><span class="symbol">,</span> <span class="string">'#FF0'</span><span class="symbol">,</span>
  <span class="string">'#FE0'</span><span class="symbol">,</span> <span class="string">'#FD0'</span><span class="symbol">,</span> <span class="string">'#FC0'</span><span class="symbol">,</span> <span class="string">'#FB0'</span><span class="symbol">,</span> <span class="string">'#FA0'</span><span class="symbol">,</span> <span class="string">'#F90'</span><span class="symbol">,</span> <span class="string">'#F80'</span><span class="symbol">,</span> <span class="string">'#F70'</span><span class="symbol">,</span>
  <span class="string">'#F60'</span><span class="symbol">,</span> <span class="string">'#F50'</span><span class="symbol">,</span> <span class="string">'#F40'</span><span class="symbol">,</span> <span class="string">'#F30'</span><span class="symbol">,</span> <span class="string">'#F20'</span><span class="symbol">,</span> <span class="string">'#F10'</span><span class="symbol">,</span> <span class="string">'#F00'</span>
<span class="symbol">];</span>
<span class="keyword">var</span> <span class="identifier">x</span> <span class="operator">=</span> <span class="identifier">ctx</span>.<span class="identifier">canvas</span>.<span class="identifier">width</span> <span class="operator">/</span> <span class="number">2</span><span class="symbol">;</span>
<span class="keyword">var</span> <span class="identifier">y</span> <span class="operator">=</span> <span class="identifier">ctx</span>.<span class="identifier">canvas</span>.<span class="identifier">height</span> <span class="operator">/</span> <span class="number">2</span><span class="symbol">;</span>
<span class="keyword">var</span> <span class="identifier">vx1</span><span class="symbol">,</span> <span class="identifier">vy1</span><span class="symbol">,</span> <span class="identifier">vx2</span><span class="symbol">,</span> <span class="identifier">vy2</span><span class="symbol">,</span> <span class="identifier">ang</span><span class="symbol">;</span>
<span class="keyword">var</span> <span class="identifier">step</span> <span class="operator">=</span> <span class="keyword2">Math</span>.<span class="identifier">PI</span> <span class="operator">/</span> <span class="identifier">colors</span>.<span class="identifier">length</span><span class="symbol">;</span>
<span class="keyword">var</span> <span class="identifier">halfStep</span> <span class="operator">=</span> <span class="identifier">step</span> <span class="operator">/</span> <span class="number">2</span><span class="symbol">;</span>
<span class="keyword">var</span> <span class="identifier">r</span> <span class="operator">=</span> <span class="number">100</span><span class="symbol">;</span>
<span class="keyword">for</span><span class="symbol">(</span> <span class="keyword">var</span> <span class="identifier">a</span><span class="operator">=</span><span class="number">0</span> <span class="symbol">;</span> <span class="identifier">a</span> <span class="operator">&lt;</span> <span class="identifier">colors</span>.<span class="identifier">length</span> <span class="symbol">;</span> <span class="identifier">a</span><span class="operator">+</span><span class="operator">+</span> <span class="symbol">)</span> <span class="symbol">{</span>
  <span class="identifier">ctx</span>.<span class="identifier">fillStyle</span> <span class="operator">=</span> <span class="identifier">colors</span><span class="symbol">[</span><span class="identifier">a</span><span class="symbol">];</span>
  <span class="identifier">ang</span> <span class="operator">=</span> <span class="identifier">a</span> <span class="operator">*</span> <span class="identifier">step</span><span class="symbol">;</span>
  <span class="identifier">vx1</span> <span class="operator">=</span> <span class="identifier">r</span> <span class="operator">*</span> <span class="keyword2">Math</span>.<span class="function">cos</span><span class="symbol">(</span> <span class="identifier">ang</span> <span class="operator">-</span> <span class="identifier">halfStep</span> <span class="symbol">);</span>
  <span class="identifier">vy1</span> <span class="operator">=</span> <span class="identifier">r</span> <span class="operator">*</span> <span class="keyword2">Math</span>.<span class="function">sin</span><span class="symbol">(</span> <span class="identifier">ang</span> <span class="operator">-</span> <span class="identifier">halfStep</span> <span class="symbol">);</span>
  <span class="identifier">vx2</span> <span class="operator">=</span> <span class="identifier">r</span> <span class="operator">*</span> <span class="keyword2">Math</span>.<span class="function">cos</span><span class="symbol">(</span> <span class="identifier">ang</span> <span class="operator">+</span> <span class="identifier">halfStep</span> <span class="symbol">);</span>
  <span class="identifier">vy2</span> <span class="operator">=</span> <span class="identifier">r</span> <span class="operator">*</span> <span class="keyword2">Math</span>.<span class="function">sin</span><span class="symbol">(</span> <span class="identifier">ang</span> <span class="operator">+</span> <span class="identifier">halfStep</span> <span class="symbol">);</span>
  <span class="identifier">ctx</span>.<span class="function">paintQuad</span><span class="symbol">(</span>
    <span class="identifier">x</span> <span class="operator">+</span> <span class="identifier">vx1</span><span class="symbol">,</span> <span class="identifier">y</span> <span class="operator">+</span> <span class="identifier">vy1</span><span class="symbol">,</span>
    <span class="identifier">x</span> <span class="operator">+</span> <span class="identifier">vx2</span><span class="symbol">,</span> <span class="identifier">y</span> <span class="operator">+</span> <span class="identifier">vy2</span><span class="symbol">,</span>
    <span class="identifier">x</span> <span class="operator">-</span> <span class="identifier">vx1</span><span class="symbol">,</span> <span class="identifier">y</span> <span class="operator">-</span> <span class="identifier">vy1</span><span class="symbol">,</span>
    <span class="identifier">x</span> <span class="operator">-</span> <span class="identifier">vx2</span><span class="symbol">,</span> <span class="identifier">y</span> <span class="operator">-</span> <span class="identifier">vy2</span>
  <span class="symbol">);</span>
<span class="symbol">}</span> </pre><div id="comparator8" class="" style="display:none"></div></div>
        <div class="undefined"><pre class="custom highlight js"><span class="identifier">ctx</span>.<span class="function">translate</span><span class="symbol">(</span> <span class="identifier">ctx</span>.<span class="identifier">canvas</span>.<span class="identifier">width</span> <span class="operator">*</span> <span class="number">0.5</span><span class="symbol">,</span> <span class="identifier">ctx</span>.<span class="identifier">canvas</span>.<span class="identifier">height</span> <span class="operator">*</span> <span class="number">0.5</span> <span class="symbol">);</span>
<span class="identifier">ctx</span>.<span class="function">rotate</span><span class="symbol">(</span> <span class="operator">-</span><span class="keyword2">Math</span>.<span class="identifier">PI</span> <span class="operator">/</span> <span class="number">13</span> <span class="symbol">);</span>
<span class="identifier">ctx</span>.<span class="function">translate</span><span class="symbol">(</span> <span class="number">-100</span><span class="symbol">,</span> <span class="number">-50</span> <span class="symbol">);</span>
<span class="identifier">ctx</span>.<span class="function">fillRect</span><span class="symbol">(</span> <span class="number">0</span><span class="symbol">,</span> <span class="number">0</span><span class="symbol">,</span> <span class="number">200</span><span class="symbol">,</span> <span class="number">100</span> <span class="symbol">);</span> </pre><div id="comparator9" class="" style="display:none"></div></div>
        <div class="undefined"><pre class="custom highlight js"><span class="identifier">ctx</span>.<span class="function">rotate</span><span class="symbol">(</span> <span class="keyword2">Math</span>.<span class="identifier">PI</span> <span class="operator">/</span> <span class="number">6</span> <span class="symbol">);</span>
<span class="identifier">ctx</span>.<span class="function">fillRect</span><span class="symbol">(</span> <span class="number">50</span><span class="symbol">,</span> <span class="number">-25</span><span class="symbol">,</span> <span class="number">200</span><span class="symbol">,</span> <span class="number">100</span> <span class="symbol">);</span> </pre><div id="comparator10" class="" style="display:none"></div></div>
        <div class="undefined"><pre class="custom highlight js"><span class="identifier">ctx</span>.<span class="function">translate</span><span class="symbol">(</span> <span class="number">100</span><span class="symbol">,</span> <span class="number">50</span> <span class="symbol">);</span>
<span class="identifier">ctx</span>.<span class="identifier">fillStyle</span> <span class="operator">=</span> <span class="string">"#f00"</span><span class="symbol">;</span>
<span class="identifier">ctx</span>.<span class="function">fillRect</span><span class="symbol">(</span> <span class="number">0</span><span class="symbol">,</span> <span class="number">0</span><span class="symbol">,</span> <span class="number">200</span><span class="symbol">,</span> <span class="number">100</span> <span class="symbol">);</span>
<span class="identifier">ctx</span>.<span class="function">translate</span><span class="symbol">(</span> <span class="number">-60</span><span class="symbol">,</span> <span class="number">20</span> <span class="symbol">);</span>  
<span class="identifier">ctx</span>.<span class="identifier">fillStyle</span> <span class="operator">=</span> <span class="string">"#00f"</span><span class="symbol">;</span>
<span class="identifier">ctx</span>.<span class="function">fillRect</span><span class="symbol">(</span> <span class="number">0</span><span class="symbol">,</span> <span class="number">0</span><span class="symbol">,</span> <span class="number">200</span><span class="symbol">,</span> <span class="number">100</span> <span class="symbol">);</span> </pre><div id="comparator11" class="" style="display:none"></div></div></p>
<h2 id="path">Path</h2>
<pre><code>    <div class="undefined"><pre class="custom highlight js"><span class="identifier">ctx</span>.<span class="identifier">fillStyle</span> <span class="operator">=</span> <span class="string">"lime"</span><span class="symbol">;</span>
<span class="identifier">ctx</span>.<span class="function">beginPath</span><span class="symbol">();</span>
<span class="identifier">ctx</span>.<span class="function">moveTo</span><span class="symbol">(</span><span class="number">50</span><span class="symbol">,</span> <span class="number">100</span><span class="symbol">);</span>
<span class="identifier">ctx</span>.<span class="function">lineTo</span><span class="symbol">(</span><span class="number">150</span><span class="symbol">,</span> <span class="number">70</span><span class="symbol">);</span>
<span class="identifier">ctx</span>.<span class="function">lineTo</span><span class="symbol">(</span><span class="number">100</span><span class="symbol">,</span> <span class="number">130</span><span class="symbol">);</span>
<span class="identifier">ctx</span>.<span class="function">lineTo</span><span class="symbol">(</span><span class="number">30</span><span class="symbol">,</span> <span class="number">50</span><span class="symbol">);</span>
<span class="identifier">ctx</span>.<span class="function">moveTo</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">,</span> <span class="number">10</span><span class="symbol">);</span>
<span class="identifier">ctx</span>.<span class="function">lineTo</span><span class="symbol">(</span><span class="number">300</span><span class="symbol">,</span> <span class="number">70</span><span class="symbol">);</span>
<span class="identifier">ctx</span>.<span class="function">lineTo</span><span class="symbol">(</span><span class="number">300</span><span class="symbol">,</span> <span class="number">100</span><span class="symbol">);</span>
<span class="identifier">ctx</span>.<span class="function">lineTo</span><span class="symbol">(</span><span class="number">250</span><span class="symbol">,</span> <span class="number">80</span><span class="symbol">);</span>
<span class="identifier">ctx</span>.<span class="function">lineTo</span><span class="symbol">(</span><span class="number">200</span><span class="symbol">,</span> <span class="number">100</span><span class="symbol">);</span>
<span class="identifier">ctx</span>.<span class="function">fill</span><span class="symbol">();</span> </pre><div id="comparator12" class="" style="display:none"></div></div>
</code></pre>
</body></html>